   Compiling murdoch v0.1.0 (/Users/zedd/Work/Murdoch)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 10.93s
     Running unittests src/lib.rs (target/debug/deps/murdoch-6e288e8295f17c0b)

running 253 tests
test analyzer::tests::extract_json_plain ... ok
test analyzer::tests::coordinated_harassment_validity ... ok
test analyzer::tests::extract_json_plain_code_block ... ok
test analyzer::tests::extract_json_code_block ... ok
test analyzer::tests::empty_violations ... ok
test analyzer::tests::enhanced_result_defaults ... ok
test appeals::tests::appeal_status_conversion ... ok
test analyzer::tests::moderation_result_deserialize ... ok
test analyzer::tests::enhanced_result_deserialize ... ok
test analyzer::tests::moderation_result_serialize_roundtrip ... ok
test analyzer::property_tests::prop_rate_limit_error_contains_retry_info ... ok
test analyzer::property_tests::prop_coordinated_harassment_requires_multiple_participants ... ok
test buffer::tests::add_returns_count_threshold_at_limit ... ok
test buffer::tests::add_returns_none_below_threshold ... ok
test buffer::tests::flush_preserves_message_order ... ok
test buffer::tests::flush_returns_all_messages ... ok
test buffer::tests::return_messages_prepends ... ok
test buffer::tests::should_flush_returns_none_when_empty ... ok
test buffer::tests::should_flush_returns_timeout_when_elapsed ... ok
test cache::tests::cache_invalidation ... ok
test cache::tests::cache_miss_returns_none ... ok
test cache::tests::cache_service_creation ... ok
test cache::tests::cache_service_default ... ok
test cache::tests::config_cache_basic_operations ... ok
test cache::tests::get_or_fetch_cache_hit ... ok
test cache::tests::get_or_fetch_cache_miss ... ok
test appeals::tests::create_and_get_appeal ... ok
test appeals::tests::cannot_create_duplicate_appeal ... ok
test appeals::tests::resolve_appeal ... ok
test cache::tests::get_or_fetch_zero_copy_sharing ... ok
test cache::tests::get_or_fetch_error_propagation ... ok
test appeals::tests::has_active_appeal ... ok
test cache::tests::invalidate_config ... ok
test cache::tests::get_with_stats_tracking ... ok
test cache::tests::invalidate_all ... ok
test cache::tests::invalidate_metrics_single_key ... ok
test cache::tests::invalidate_metrics_pattern ... ok
test cache::tests::invalidate_user ... ok
test cache::tests::invalidate_metrics_pattern_with_wildcard ... ok
test cache::tests::invalidate_on_write_simulation ... ok
test cache::tests::multiple_caches_independent ... ok
test cache::tests::stats_across_multiple_caches ... ok
test cache::tests::metrics_cache_basic_operations ... ok
test buffer::property_tests::prop_buffer_stores_messages_with_all_fields ... ok
test cache::tests::stats_hit_rate_calculation ... ok
test cache::tests::users_cache_basic_operations ... ok
test cache::tests::stats_tracking_hits_and_misses ... ok
test commands::tests::register_commands_creates_commands ... ok
test cache::tests::stats_prometheus_format ... ok
test config::tests::default_patterns_has_invite_links ... ok
test config::tests::default_patterns_has_phishing_urls ... ok
test config::tests::parse_pattern_list_empty ... ok
test config::tests::parse_pattern_list_multiple ... ok
test cache::tests::get_or_fetch_deduplication ... ok
test config::tests::parse_pattern_list_single ... ok
test config::tests::regex_pattern_config_serialize_roundtrip ... ok
test context::tests::add_and_get_messages ... ok
test context::tests::clear_channel ... ok
test context::tests::empty_context_format ... ok
test context::tests::format_context_for_prompt ... ok
test context::tests::respects_max_messages ... ok
test context::tests::separate_channels ... ok
test critical_events::tests::test_health_score_drop ... ok
test critical_events::tests::test_violation_tracker_expiry ... ok
test critical_events::tests::test_violation_tracker_mass_violations ... ok
test commands::property_tests::prop_permission_check_requires_admin ... ok
test config::property_tests::prop_pattern_list_parsing ... ok
test config::property_tests::prop_config_json_roundtrip ... ok
test buffer::property_tests::prop_double_buffering_no_data_loss ... ok
test buffer::property_tests::prop_failed_flush_retains_messages ... ok
test context::property_tests::prop_context_window_bounded ... ok
test context::property_tests::prop_keeps_most_recent ... ok
test analyzer::property_tests::prop_moderation_result_roundtrip ... ok
test database::tests::cache_invalidation ... ok
test database::tests::audit_log_pagination ... ok
test database::tests::cleanup_expired_sessions ... ok
test database::tests::create_and_get_audit_log ... ok
test database::tests::create_and_get_session ... ok
test database::tests::create_in_memory_database ... ok
test database::tests::delete_session ... ok
test database::tests::get_default_config_for_new_guild ... ok
test database::tests::get_nonexistent_session ... ok
test database::tests::schema_is_idempotent ... ok
test database::tests::set_and_get_config ... ok
test database::tests::set_selected_guild ... ok
test database::tests::update_session_tokens ... ok
test database::tests::update_specific_fields ... ok
test discord::property_tests::prop_high_severity_requires_mention ... ok
test discord::tests::builder_creates_complete_report ... ok
test discord::tests::builder_fails_without_required_fields ... ok
test discord::tests::hash_content_deterministic ... ok
test discord::tests::hash_content_different_for_different_input ... ok
test discord::tests::hash_content_length ... ok
test discord::tests::high_severity_requires_mention ... ok
test discord::tests::medium_severity_no_mention ... ok
test error::tests::error_display_config ... ok
test error::tests::error_display_gemini_api ... ok
test error::tests::error_display_internal_state ... ok
test error::tests::error_display_rate_limited ... ok
test discord::property_tests::prop_violation_queues_delete_action ... ok
test export::tests::export_format_as_str ... ok
test export::tests::export_format_extension ... ok
test export::tests::export_format_from_str ... ok
test export::tests::export_format_mime_type ... ok
test export::tests::export_type_as_str ... ok
test export::tests::export_type_from_str ... ok
test discord::property_tests::prop_violation_report_completeness ... ok
test export::tests::cleanup_expired_exports_no_files ... ok
test export::tests::get_export_history_empty ... ok
test filter::property_tests::prop_clean_messages_pass ... ok
test filter::property_tests::prop_invite_pattern_flags_violation ... ok
test filter::property_tests::prop_phishing_pattern_flags_violation ... ok
test filter::tests::empty_patterns_pass_everything ... ok
test filter::tests::evaluate_clean_message_passes ... ok
test filter::tests::evaluate_invite_link_match ... ok
test filter::tests::evaluate_phishing_match ... ok
test filter::tests::evaluate_slur_match ... ok
test filter::tests::evaluate_slur_regex_match ... ok
test filter::tests::update_patterns_runtime ... ok
test filter::property_tests::prop_runtime_pattern_updates ... ok
test filter::property_tests::prop_slur_pattern_flags_violation ... ok
test database::property_tests::prop_config_persistence_round_trip ... ok
test database::property_tests::prop_config_update_persists ... ok
test metrics::tests::counters_avg_response_time ... ok
test metrics::tests::counters_reset ... ok
test metrics::tests::counters_total_violations ... ok
test metrics::tests::detection_type_conversion ... ok
test metrics::tests::flush_to_database ... ok
test metrics::tests::get_snapshot ... ok
test metrics::tests::guilds_are_isolated ... ok
test appeals::property_tests::prop_appeal_uniqueness ... ok
test metrics::tests::prometheus_format ... ok
test metrics::tests::record_message ... ok
test metrics::tests::severity_level_conversion ... ok
test models::property_tests::prop_severity_boundaries ... ok
test models::property_tests::prop_severity_classification ... ok
test models::tests::high_severity_requires_mention ... ok
test models::tests::medium_severity_no_mention ... ok
test models::tests::severity_from_score_high ... ok
test models::tests::severity_from_score_low ... ok
test models::tests::severity_from_score_medium ... ok
test models::tests::violation_report_completeness ... ok
test models::tests::violation_report_incomplete_empty_reason ... ok
test metrics::tests::record_violation ... ok
test notification::tests::test_get_default_preferences ... ok
test notification::tests::test_mark_notification_read_unread ... ok
test database::property_tests::prop_session_persistence_round_trip ... ok
test notification::tests::test_notification_service_creation ... ok
test notification::tests::test_priority_threshold ... ok
test oauth::tests::authorization_url_contains_required_params ... ok
test oauth::tests::user_guild_is_admin_with_admin_permission ... ok
test oauth::tests::user_guild_is_admin_with_combined_permissions ... ok
test oauth::tests::user_guild_not_admin_with_zero_permissions ... ok
test oauth::tests::user_guild_not_admin_without_permission ... ok
test notification::tests::test_update_and_get_preferences ... ok
test oauth::property_tests::prop_guild_permission_filtering ... ok
test pipeline::tests::pipeline_graceful_degradation ... ok
test pipeline::tests::pipeline_regex_filter_works ... ok
test pipeline::property_tests::prop_graceful_degradation_regex_still_works ... ok
test raid::property_tests::prop_guild_isolation ... ok
test pipeline::property_tests::prop_availability_toggle ... ok
test raid::tests::get_status_returns_details ... ok
test raid::tests::guilds_are_isolated ... ok
test raid::tests::manual_disable_raid_mode ... ok
test raid::tests::no_flood_on_different_messages ... ok
test raid::tests::no_raid_on_normal_joins ... ok
test raid::tests::no_raid_on_old_account_joins ... ok
test raid::property_tests::prop_manual_disable_idempotent ... ok
test raid::tests::raid_on_mass_new_account_joins ... ok
test raid::tests::raid_on_message_flood ... ok
test database::property_tests::prop_database_schema_idempotent ... ok
test rbac::tests::assign_and_get_role ... ok
test rbac::tests::check_permission_defaults_to_viewer ... ok
test rbac::tests::check_permission_with_role ... ok
test rbac::tests::get_guild_roles ... ok
test rbac::tests::moderator_cannot_manage_config ... ok
test rbac::tests::owner_has_all_permissions ... ok
test metrics::property_tests::prop_message_count_accuracy ... ok
test rbac::tests::role_type_as_str ... ok
test rbac::tests::role_type_from_str ... ok
test rbac::tests::get_nonexistent_role_returns_none ... ok
test rbac::tests::viewer_is_read_only ... ok
test rbac::tests::remove_role ... ok
test metrics::property_tests::prop_metrics_accuracy ... ok
test rbac::tests::update_existing_role ... ok
test rules::tests::cache_invalidation ... ok
test rules::tests::clear_rules ... ok
test rules::tests::format_for_prompt ... ok
test rules::tests::get_nonexistent_rules ... ok
test raid::tests::raid_mode_auto_expiry ... ok
test rules::tests::update_existing_rules ... ok
test rules::tests::upload_and_get_rules ... ok
test session::tests::create_and_retrieve_session ... ok
test session::tests::delete_session ... ok
test session::tests::tokens_do_not_need_refresh_when_valid ... ok
test session::tests::tokens_need_refresh_when_expired ... ok
test session::tests::tokens_need_refresh_when_expiring_soon ... ok
test session::tests::session_not_found ... ok
test user_service::tests::user_info_deleted ... ok
test user_service::tests::user_info_not_stale_at_23_hours ... ok
test user_service::tests::user_info_staleness ... ok
test warnings::property_tests::prop_escalation_caps_at_ban ... ok
test session::tests::set_selected_guild ... ok
test warnings::property_tests::prop_warning_level_decay_correct ... ok
test session::tests::update_session_tokens ... ok
test warnings::tests::clear_warnings ... ok
test warnings::tests::get_violations_history ... ok
test warnings::tests::kick_then_ban_escalation ... ok
test warnings::tests::timeout_durations ... ok
test warnings::tests::warning_level_decay ... ok
test warnings::tests::warning_level_escalation ... ok
test warnings::tests::warning_level_ordering ... ok
test warnings::tests::record_and_escalate_violations ... ok
test metrics::property_tests::prop_metrics_time_range_consistency ... ok
test database::property_tests::prop_database_isolation ... ok
test web::property_tests::prop_config_validation ... ok
test metrics::property_tests::prop_severity_accuracy ... ok
test database::property_tests::prop_session_id_uniqueness ... ok
test rules::property_tests::prop_clear_rules_removes_completely ... ok
test rules::property_tests::prop_rules_persistence_round_trip ... ok
test web::property_tests::prop_audit_log_completeness ... ok
test web::property_tests::prop_audit_log_guild_isolation ... ok
test warnings::property_tests::prop_warning_escalation_monotonic ... ok
test web::tests::deduplication_stats_tracking ... ok
test web::tests::error_response_serializes ... ok
test web::tests::get_session_id_parses_cookie ... ok
test web::tests::get_session_id_returns_none_without_cookie ... ok
test web::tests::health_score_all_bad ... ok
test web::tests::health_score_bounds ... ok
test web::tests::health_score_high_escalation ... ok
test web::tests::health_score_high_violation_rate ... ok
test web::tests::health_score_perfect_conditions ... ok
test web::tests::health_score_slow_response ... ok
test web::tests::request_deduplicator_stats ... ok
test web::tests::request_key_generation ... ok
test web::tests::rule_effectiveness_query_integration ... ok
test web::tests::rule_effectiveness_response_serializes ... ok
test web::tests::rule_effectiveness_time_period_filtering ... ok
test web::tests::temporal_analytics_avg_violations_per_hour ... ok
test web::tests::temporal_analytics_heatmap_generation ... ok
test web::tests::temporal_analytics_major_event_detection ... ok
test web::tests::top_offenders_response_serializes ... ok
test websocket::tests::test_broadcast_to_nonexistent_guild ... ok
test websocket::tests::test_websocket_manager_creation ... ok
test web::property_tests::prop_audit_log_multiple_actions ... ok
test web::property_tests::prop_warning_search_excludes_cleared ... ok
test web::property_tests::prop_warning_search_guild_isolation ... ok
test web::property_tests::prop_warning_search_correctness ... ok
test web::property_tests::prop_pagination_no_gaps ... ok
test web::property_tests::prop_violation_combined_filters ... ok
test web::property_tests::prop_violation_filtering_correctness ... ok
test web::property_tests::prop_pagination_correctness ... ok
test raid::property_tests::prop_raid_mode_auto_expiry ... ok

test result: ok. 253 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 13.35s

     Running unittests src/main.rs (target/debug/deps/murdoch-3b0c79c30e0dea29)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests murdoch

running 2 tests
test src/cache.rs - cache::CacheService::invalidate_metrics_pattern (line 255) - compile ... ok
test src/models.rs - models::SeverityLevel::from_score (line 41) ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.39s

